<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Examples</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="https://fonts.googleapis.com/css?family=Roboto+Slab|Reenie+Beanie" rel="stylesheet">
<link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-65065542-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-65065542-1');
</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style-all.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 66px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 71px;
  margin-top: -71px;
}

.section h2 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h3 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h4 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h5 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h6 {
  padding-top: 71px;
  margin-top: -71px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->






<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"><img id='logo' style='width: 40px; float:left; margin-right:10px' src='img/logo.png' />large-scale interactives</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">About</a>
</li>
<li>
  <a href="examples.html">Examples</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Examples</h1>

</div>


<div id="section" class="section level2 tabset">
<h2></h2>
<div id="background" class="section level3">
<h3>Background</h3>
<p>I’m hoping to have a student working on this project with me over our summer (Dec 2018 - Feb 2019), so this page is not super detailed at the moment and only focuses on creating/using web apps (with Javascript and Google apps script) that collect data in Google sheets.</p>
<p>Things you’ll need to try out these examples:<br />
- a Google account/Google drive<br />
- an internet connection</p>
<p>For use with students in large lectures (or just in general with other people not using your laptop!), you will need a public website/page to share your app through or to embed the web app in your LMS. Free solutions that I’ve used include github pages and Google sites.</p>
<p><strong>NB</strong>: These examples focus on the tech side of creating/using web apps, and not on teaching with them as part of large-scale interactives.</p>
</div>
<div id="sharing-an-existing-web-app" class="section level3">
<h3>1. Sharing an existing web app</h3>
<p>We’re going to work backwards and start with the situation where you already have a Google apps script (GAS) web app ready to use and need to share it. You’ll find out later that the URL for a web app created using GAS is not very nice. You could use an URL shortener like bit.ly or tiny.cc but this is not the only issue. Unless you get each app verified, using the raw web app link will also prompt users to say they trust you and your app before it can be used.</p>
<p>One of the ways to address both of these issues is to embed the web app using an iframe in another webpage. Your LMS probably has an option for you to embed other pages, and Google sites (new) has an easy to use <strong>Embed</strong> option.</p>
<p>For example, here is the raw link to a web app: <a href="https://script.google.com/macros/s/AKfycbzzk2xEpNIC31u7yPCz8zUf1r451cCfChgYD-EXvOMdL-L55Ig/exec" class="uri">https://script.google.com/macros/s/AKfycbzzk2xEpNIC31u7yPCz8zUf1r451cCfChgYD-EXvOMdL-L55Ig/exec</a></p>
<p>And here is a nicer link to the same web app embedded in another page: <a href="https://annafergusson.github.io/LSinteractives/patience.html" class="uri">https://annafergusson.github.io/LSinteractives/patience.html</a></p>
The HTML I used to embed the web app in my own webpage is given below. The part you will need to change is to replace the web app link used as the source (src) in line 20 where an iframe is created.
<script src="https://gist.github.com/annafergusson/5dc8799c42a4f8e4d6a8919ca246e81f.js"></script>
</div>
<div id="using-an-existing-web-app" class="section level3">
<h3>2. Using an existing web app</h3>
<p>Suppose you just want to use one of the web app that have already been designed? Let’s continue with the web app used in 1. If you haven’t tried it out yet, have a go here: <a href="https://annafergusson.github.io/LSinteractives/patience.html" class="uri">https://annafergusson.github.io/LSinteractives/patience.html</a>.</p>
<p><img src='img/yes.PNG' alt="screenshot of webapp" width=50% /></p>
<p>You can view the data being collected here: <a href="https://docs.google.com/spreadsheets/d/1NfO5rPtLz4EBUfJAWnpXEv-LUU3sKWOyrjPjY0JAMzM/edit?usp=sharing" class="uri">https://docs.google.com/spreadsheets/d/1NfO5rPtLz4EBUfJAWnpXEv-LUU3sKWOyrjPjY0JAMzM/edit?usp=sharing</a></p>
<p>And, if you make a copy of the Google sheet, you will also get a copy of the code used for the web app attached to the Google sheet. So do that! You will need to be signed in to your Google account first so you can make a copy of the Google sheet rather than just downloading a static version of the current data (which you are also welcome to do).</p>
<p>After you’ve made a copy of the Google sheet, it is no longer linked to my web app and any data you collect is yours only, to do with it what ever you want. You might want to clear Sheet1 of the data collected to start afresh, or make a copy of Sheet1 using the <strong>Duplicate</strong> option before clearing Sheet 1, to compare your students to the data collected from <em>who knows who!</em></p>
<p>Then head to Tools -&gt; Script editor using the main top menu options. You will see two files in the side bar of the Google apps script project page.</p>
<p><strong>Code.gs</strong> has two functions that take care of displaying the webpage when your app is accessed and adding new rows to your Google sheet. <strong>Index.html</strong> contains HTML stuff including some Javascript to capture data from user interactions and to call the GAS functions. We’ll look closer at this code in 4. You are welcome, of course, to adjust any part of the HTML code e.g. change the instructions provided, be explicit about what data will be collected from users who interact with the app etc.</p>
<p>To get your app up and running, head to Publish -&gt; Deploy as web app from the main top menu. Use the settings shown below (which should be what comes up):</p>
<p><img src='img/app.PNG' alt="setting up app" width=50% /></p>
<p>You will be prompted to authorise the app when you click the <strong>Update</strong> button. Once you’ve signed your life away, then grab the URL from the <strong>Current web app URL</strong> box and test out the link. You should see a new row of data appear on your Google sheet after you’ve attempted to estimate ten seconds.</p>
<p>For any of the web apps I share in 3., the same process can be used:</p>
<ul>
<li>make a copy of the Google sheet<br />
</li>
<li>clear the data in Sheet1 if you want<br />
</li>
<li>authorise the app with the following settings:
<ul>
<li>execute the app as you and</li>
<li>anyone, even anonymous has access to the app<br />
</li>
</ul></li>
<li>grab the URL of the current web app<br />
</li>
<li>embed this URL in another webpage using an iframe (see 1.)<br />
</li>
<li>share with users</li>
</ul>
<p><strong>Note</strong>: When I share/use the data from a Google sheet that has a web app attached to it, I typically give students/others the link to the Google sheet published as a CSV. You can do this by opening your copy of the Google sheet and selecting File -&gt; Publish to the web from the main menu. Under <strong>Link</strong> select Sheet1 from the first dropdown and Comma-separated values (.csv) from the second dropdown. Then press the blue Publish button and grab the link.</p>
<p>If this link is used directly, it prompts the download of the csv file via the browser. Or you can use the link to read data into R.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># read the current data collected from my web app https://annafergusson.github.io/LSinteractives/patience.html</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(readr)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">ten_seconds_data &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://docs.google.com/spreadsheets/d/e/2PACX-1vR_K8VZFPwKpV48nsAv_b7-SvE4fS39G_uh-Gdi3wa76k1i4ZhbSk12oHNnJCp5rn1p2yVokBYJOprn/pub?gid=0&amp;single=true&amp;output=csv&quot;</span>)</a></code></pre></div>
</div>
<div id="examples-of-existing-web-apps" class="section level3">
<h3>3. Examples of existing web apps</h3>
<p><em>Give list of web apps with links here</em></p>
</div>
<div id="adapting-an-existing-web-app" class="section level3">
<h3>4. Adapting an existing web app</h3>
<p><em>Go through some ideas for adapting existing apps - code focus</em></p>
</div>
<div id="ideas-for-workflows" class="section level3">
<h3>5. Ideas for workflows</h3>
<p><em>Describe how I set up my interact app to share code between different apps and streamline develop process</em></p>
</div>
</div>

<div class='footnotes'>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a>.</div>

<script>
  $(document).ready(function () {
    
 //960:569 ratio for Google slides
 var screen_size = getScreenSize();
 //document.getElementById("slides").width = screen_size.screenWidth*0.8;
 //document.getElementById("slides").height = screen_size.screenWidth*0.8*569/960;
 
});

//collect the screen size of the device (from https://stackoverflow.com/questions/3437786/get-the-size-of-the-screen-current-web-page-and-browser-window)
function getScreenSize() {
var w = window,
    d = document,
    e = d.documentElement,
    g = d.getElementsByTagName('body')[0],
    screenWidth = w.innerWidth || e.clientWidth || g.clientWidth,
    screenHeight = w.innerHeight|| e.clientHeight|| g.clientHeight;
    return {screenWidth: screenWidth, screenHeight: screenHeight};
} 
</script>



</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>

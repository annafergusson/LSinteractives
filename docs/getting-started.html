<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Getting started</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/readable.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="https://fonts.googleapis.com/css?family=Roboto+Slab|Reenie+Beanie|Cabin+Sketch" rel="stylesheet">
<link rel="shortcut icon" type="image/x-icon" href="img/favicon.ico">
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-65065542-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-65065542-1');
</script>


<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  { background-color: #f8f8f8; }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ef2929; } /* Alert */
code span.an { color: #8f5902; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #c4a000; } /* Attribute */
code span.bn { color: #0000cf; } /* BaseN */
code span.cf { color: #204a87; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4e9a06; } /* Char */
code span.cn { color: #000000; } /* Constant */
code span.co { color: #8f5902; font-style: italic; } /* Comment */
code span.cv { color: #8f5902; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #8f5902; font-weight: bold; font-style: italic; } /* Documentation */
code span.dt { color: #204a87; } /* DataType */
code span.dv { color: #0000cf; } /* DecVal */
code span.er { color: #a40000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #0000cf; } /* Float */
code span.fu { color: #000000; } /* Function */
code span.im { } /* Import */
code span.in { color: #8f5902; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #204a87; font-weight: bold; } /* Keyword */
code span.op { color: #ce5c00; font-weight: bold; } /* Operator */
code span.ot { color: #8f5902; } /* Other */
code span.pp { color: #8f5902; font-style: italic; } /* Preprocessor */
code span.sc { color: #000000; } /* SpecialChar */
code span.ss { color: #4e9a06; } /* SpecialString */
code span.st { color: #4e9a06; } /* String */
code span.va { color: #000000; } /* Variable */
code span.vs { color: #4e9a06; } /* VerbatimString */
code span.wa { color: #8f5902; font-weight: bold; font-style: italic; } /* Warning */
</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>


<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>

<link rel="stylesheet" href="style-all.css" type="text/css" />

</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 66px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 71px;
  margin-top: -71px;
}

.section h2 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h3 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h4 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h5 {
  padding-top: 71px;
  margin-top: -71px;
}
.section h6 {
  padding-top: 71px;
  margin-top: -71px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html"><img id='logo' style='width: 40px; float:left; margin-right:10px' src='img/logo.png' />Large-scale Interactives</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="index.html">About</a>
</li>
<li>
  <a href="getting-started.html">Getting started</a>
</li>
<li>
  <a href="examples.html">Example apps</a>
</li>
<li>
  <a href="issues.html">Issues?</a>
</li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">



<h1 class="title toc-ignore">Getting started</h1>

</div>


<div id="background" class="section level2">
<h2>Background</h2>
<p>During and following my talk, various people asked me if they could use some of the apps I’ve developed as part of my large-scale interactives. My answer was yes, hence this site!</p>
<p>I’m hoping to have a student working on this project with me over our summer (Dec 2018 - Feb 2019), so until then I’ll try to provide enough details to get you started using some web apps that are powered by Javascript, Google apps script and Google sheets. I’m also just going to focus on the tech side of using these web apps and not on teaching with them as part of large-scale interactives.</p>
</div>
<div id="google-time" class="section level2">
<h2>Google time</h2>
<p>These web apps are “contained” within a Google sheet. To use each app with your students, the main steps are:</p>
<ul>
<li>make a copy of the Google sheet (use one of the links provided on the <a href="examples.html">Example apps</a> page)</li>
<li>publish and authorise the web app with the following settings:
<ul>
<li>execute the app as you, and</li>
<li>anyone, even anonymous, has access to the app<br />
</li>
</ul></li>
<li>grab the URL of the current web app to share the app with users
<ul>
<li>a URL shortener might help, or</li>
<li>embed this URL in another webpage using an iframe</li>
</ul></li>
<li>use the data collected in the Google sheet however you want!</li>
</ul>
<p>I’ll now go through each step with a little more detail.</p>
<div id="make-a-copy-of-the-google-sheet" class="section level3">
<h3>Make a copy of the Google sheet</h3>
<p>Use the Google sheet link provided for the app (use one of the links provided on the <a href="examples.html">Example apps</a> page) to open the Google sheet in <em>View only</em> mode. If you are not already logged into your Google account, log in and make a copy of the Google sheet (under the File menu). This will give you a copy of the code used for the web app, as it is contained within the Google sheet. However, before you can use it, you need to authorise the app (which is a good thing!)</p>
</div>
<div id="authorise-the-app" class="section level3">
<h3>Authorise the app</h3>
<p>Head to Tools -&gt; Script editor from the main menu options. You will see two files in the side bar of the Google apps script project page.</p>
<p><strong>Code.gs</strong> has two functions that take care of displaying the webpage when your app is accessed and adding new rows to your Google sheet. <strong>Index.html</strong> contains HTML stuff including some Javascript to capture data from user interactions and to call the GAS functions. You are welcome, of course, to adjust any part of the HTML code e.g. change the instructions provided, be explicit about what data will be collected from users who interact with the app etc. <em>Note: I have not included any kind of input validation anywhere.</em></p>
<p>To get your app up and running, head to Publish -&gt; Deploy as web app from the main top menu. Use the settings shown below (which should be what comes up):</p>
<p><img src='img/app.PNG' alt="setting up app" width=50% /></p>
<p>You will be prompted to authorise the app when you click the <strong>Update</strong> button. You will may then be shown a warning that the app is not verified. In this situation, the app is running under <strong>your</strong> account to save data from the app to <strong>your Google sheet</strong>, so if you trust yourself then click the <em>Advanced</em> link on the bottom left of the dialog box. Then click the link <em>Go to APP_NAME_HERE (unsafe)</em>. The next screen will show you what you are allowing the app access to (in this case, Google sheets).</p>
<p>Once you’ve signed your life away using the blue <em>Allow</em> button, then grab the URL from the <strong>Current web app URL</strong> box and test out the link. You should see a new row of data appear on your Google sheet after you’ve interacted with the app.</p>
</div>
<div id="share-the-app" class="section level3">
<h3>Share the app</h3>
<p>The URL for a web app created using GAS is not very nice (e.g. <a href="https://script.google.com/macros/s/AKfycbzzk2xEpNIC31u7yPCz8zUf1r451cCfChgYD-EXvOMdL-L55Ig/exec" class="uri">https://script.google.com/macros/s/AKfycbzzk2xEpNIC31u7yPCz8zUf1r451cCfChgYD-EXvOMdL-L55Ig/exec</a>). You could use an URL shortener like <a href="https://bitly.com">bit.ly</a> to hide that ugly link temporarily, or you could embed the web app using an iframe in another webpage. Your LMS probably has an option for you to embed other pages, and Google sites (new) has an easy-to-use <strong>Embed</strong> option. Or you can create your own HTML page like I did for one of the apps (hosted via github pages e.g. <a href="https://annafergusson.github.io/LSinteractives/patience.html" class="uri">https://annafergusson.github.io/LSinteractives/patience.html</a>)</p>
The HTML I used to embed the web app in my own webpage is given below. The part you will need to change is to replace the web app link used as the source (src) in line 20 where an iframe is created.
<script src="https://gist.github.com/annafergusson/5dc8799c42a4f8e4d6a8919ca246e81f.js"></script>
</div>
<div id="use-the-data" class="section level3">
<h3>Use the data!</h3>
<p>Since the data is in a Google sheet, you explore the data within Google sheets if that’s your thing. Or….. you could use the data within other software.</p>
<p>I typically give students/others the link to the Google sheet published as a CSV. You can do this by opening your copy of the Google sheet and selecting File -&gt; Publish to the web from the main menu. Under <strong>Link</strong> select Sheet1 from the first dropdown and Comma-separated values (.csv) from the second dropdown. Then press the blue Publish button and grab the link.</p>
<p>This works pretty well, although there is a delay for new data to be included in the published version. If this link is used directly, it prompts the download of the csv file via the browser. Or you can use the link to read the data into R and other friendly applications.</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb1-1" data-line-number="1"><span class="co"># read the current data collected from my web app https://annafergusson.github.io/LSinteractives/patience.html</span></a>
<a class="sourceLine" id="cb1-2" data-line-number="2"><span class="kw">library</span>(readr)</a>
<a class="sourceLine" id="cb1-3" data-line-number="3">ten_seconds_data &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;https://docs.google.com/spreadsheets/d/e/2PACX-1vR_K8VZFPwKpV48nsAv_b7-SvE4fS39G_uh-Gdi3wa76k1i4ZhbSk12oHNnJCp5rn1p2yVokBYJOprn/pub?gid=0&amp;single=true&amp;output=csv&quot;</span>)</a></code></pre></div>
<p>You could also use the fantastic <a href="https://github.com/jennybc/googlesheets">googlesheets</a> package to read the data straight from the Google sheet. <em>Note: The IDs are different for the Google sheet and the published CSV version.</em></p>
<div class="sourceCode" id="cb2"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb2-1" data-line-number="1"><span class="co"># read the current data collected from my web app https://annafergusson.github.io/LSinteractives/patience.html straight from the public Google sheet</span></a>
<a class="sourceLine" id="cb2-2" data-line-number="2"><span class="kw">library</span>(magrittr)</a>
<a class="sourceLine" id="cb2-3" data-line-number="3"><span class="kw">library</span>(googlesheets)</a>
<a class="sourceLine" id="cb2-4" data-line-number="4"></a>
<a class="sourceLine" id="cb2-5" data-line-number="5"><span class="co">#set up authentication the first time</span></a>
<a class="sourceLine" id="cb2-6" data-line-number="6"><span class="co">#gs_auth(new_user = TRUE)</span></a>
<a class="sourceLine" id="cb2-7" data-line-number="7"></a>
<a class="sourceLine" id="cb2-8" data-line-number="8"><span class="co">#get that data using the ID of the Google sheet</span></a>
<a class="sourceLine" id="cb2-9" data-line-number="9">ten_seconds_data &lt;-<span class="st"> </span><span class="kw">gs_key</span>(<span class="st">&quot;1NfO5rPtLz4EBUfJAWnpXEv-LUU3sKWOyrjPjY0JAMzM&quot;</span>) <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb2-10" data-line-number="10"><span class="st">  </span><span class="kw">gs_read</span>(<span class="dt">col_names =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p>This is where I should write more about how to build the apps and data into bigger interactives! In my talk, I demoed using an <a href="https://www.opencpu.org/jslib.html">openCPU</a> app I developed to both use the data live but also to allow students to play with the R code a little. The <a href="https://rstudio.github.io/learnr/">learnr</a> package would be a nice place to start if you would like to do something similar. At some point I’ll write more about this…</p>
</div>
</div>
<div id="what-next" class="section level2">
<h2>What next?</h2>
<p>On the examples page, I’ve added some of the web apps I’ve been using with my students. You are welcome to make copies of these and change however you want (or use them as they are).</p>
<p>If you are a R user, you may want to consider combining Google sheet functionality with Shiny apps. Here a couple of links from the <a href="https://github.com/jennybc/googlesheets">googlesheets</a> documentation:</p>
<ul>
<li><a href="https://github.com/jennybc/googlesheets#what-the-hell-do-i-do-with-this" class="uri">https://github.com/jennybc/googlesheets#what-the-hell-do-i-do-with-this</a></li>
<li><a href="https://github.com/jennybc/googlesheets/blob/master/inst/shiny-examples" class="uri">https://github.com/jennybc/googlesheets/blob/master/inst/shiny-examples</a></li>
</ul>
</div>

<div class='footnotes'>Text and figures are licensed under Creative Commons Attribution <a rel="license" href="https://creativecommons.org/licenses/by-nc/4.0/">CC BY-NC 4.0</a>.</div>

<script>
  $(document).ready(function () {
    
 //960:569 ratio for Google slides
 var screen_size = getScreenSize();
 //document.getElementById("slides").width = screen_size.screenWidth*0.8;
 //document.getElementById("slides").height = screen_size.screenWidth*0.8*569/960;
 
});

//collect the screen size of the device (from https://stackoverflow.com/questions/3437786/get-the-size-of-the-screen-current-web-page-and-browser-window)
function getScreenSize() {
var w = window,
    d = document,
    e = d.documentElement,
    g = d.getElementsByTagName('body')[0],
    screenWidth = w.innerWidth || e.clientWidth || g.clientWidth,
    screenHeight = w.innerHeight|| e.clientHeight|| g.clientHeight;
    return {screenWidth: screenWidth, screenHeight: screenHeight};
} 
</script>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
